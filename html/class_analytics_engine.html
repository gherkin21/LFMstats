<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LFMstats: AnalyticsEngine Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LFMstats
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('class_analytics_engine.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="class_analytics_engine-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">AnalyticsEngine Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Performs various calculations and statistical analysis on a list of scrobble data.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="analyticsengine_8h_source.html">analyticsengine.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for AnalyticsEngine:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_analytics_engine.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae3e0671ff5957d720efb67154dc00162" id="r_ae3e0671ff5957d720efb67154dc00162"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae3e0671ff5957d720efb67154dc00162">AnalyticsEngine</a> (QObject *parent=nullptr)</td></tr>
<tr class="memdesc:ae3e0671ff5957d720efb67154dc00162"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs an <a class="el" href="class_analytics_engine.html" title="Performs various calculations and statistical analysis on a list of scrobble data.">AnalyticsEngine</a> instance.  <br /></td></tr>
<tr class="separator:ae3e0671ff5957d720efb67154dc00162"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a319dd1bfec62f711af388ed54c0a69d1" id="r_a319dd1bfec62f711af388ed54c0a69d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="analyticsengine_8h.html#a24440435af6d135e5ba61c2a05f55deb">SortedCounts</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a319dd1bfec62f711af388ed54c0a69d1">getTopArtists</a> (const QList&lt; <a class="el" href="struct_scrobble_data.html">ScrobbleData</a> &gt; &amp;scrobbles, int count=50)</td></tr>
<tr class="memdesc:a319dd1bfec62f711af388ed54c0a69d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the top artists based on play counts.  <br /></td></tr>
<tr class="separator:a319dd1bfec62f711af388ed54c0a69d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae20d62bcb2527c9c895249401e4a2a61" id="r_ae20d62bcb2527c9c895249401e4a2a61"><td class="memItemLeft" align="right" valign="top"><a class="el" href="analyticsengine_8h.html#a24440435af6d135e5ba61c2a05f55deb">SortedCounts</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae20d62bcb2527c9c895249401e4a2a61">getTopTracks</a> (const QList&lt; <a class="el" href="struct_scrobble_data.html">ScrobbleData</a> &gt; &amp;scrobbles, int count=50)</td></tr>
<tr class="memdesc:ae20d62bcb2527c9c895249401e4a2a61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the top tracks based on play counts.  <br /></td></tr>
<tr class="separator:ae20d62bcb2527c9c895249401e4a2a61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a368d537fab8fb71f973ba62c25fbb11d" id="r_a368d537fab8fb71f973ba62c25fbb11d"><td class="memItemLeft" align="right" valign="top">QDateTime&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a368d537fab8fb71f973ba62c25fbb11d">findLastPlayed</a> (const QList&lt; <a class="el" href="struct_scrobble_data.html">ScrobbleData</a> &gt; &amp;scrobbles, const QString &amp;artist, const QString &amp;track)</td></tr>
<tr class="memdesc:a368d537fab8fb71f973ba62c25fbb11d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds the timestamp of the last time a specific track by a specific artist was played.  <br /></td></tr>
<tr class="separator:a368d537fab8fb71f973ba62c25fbb11d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a307276ff5a20914bf89e86d1300c2f05" id="r_a307276ff5a20914bf89e86d1300c2f05"><td class="memItemLeft" align="right" valign="top">QMap&lt; QString, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a307276ff5a20914bf89e86d1300c2f05">getArtistPlayCounts</a> (const QList&lt; <a class="el" href="struct_scrobble_data.html">ScrobbleData</a> &gt; &amp;scrobbles)</td></tr>
<tr class="memdesc:a307276ff5a20914bf89e86d1300c2f05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the total play count for each artist.  <br /></td></tr>
<tr class="separator:a307276ff5a20914bf89e86d1300c2f05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4a5bdf04df84d065cdf48d430d59d53" id="r_aa4a5bdf04df84d065cdf48d430d59d53"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa4a5bdf04df84d065cdf48d430d59d53">getMeanScrobblesPerDay</a> (const QList&lt; <a class="el" href="struct_scrobble_data.html">ScrobbleData</a> &gt; &amp;scrobbles, const QDateTime &amp;from, const QDateTime &amp;to)</td></tr>
<tr class="memdesc:aa4a5bdf04df84d065cdf48d430d59d53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the average number of scrobbles per day within a given date range.  <br /></td></tr>
<tr class="separator:aa4a5bdf04df84d065cdf48d430d59d53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec0edeb8f4dd330f2147f77f24264a30" id="r_aec0edeb8f4dd330f2147f77f24264a30"><td class="memItemLeft" align="right" valign="top">QDateTime&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aec0edeb8f4dd330f2147f77f24264a30">getFirstScrobbleDate</a> (const QList&lt; <a class="el" href="struct_scrobble_data.html">ScrobbleData</a> &gt; &amp;scrobbles)</td></tr>
<tr class="memdesc:aec0edeb8f4dd330f2147f77f24264a30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the timestamp of the earliest scrobble in the list.  <br /></td></tr>
<tr class="separator:aec0edeb8f4dd330f2147f77f24264a30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a079ec42c0be963727d57a22767661eb1" id="r_a079ec42c0be963727d57a22767661eb1"><td class="memItemLeft" align="right" valign="top">QDateTime&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a079ec42c0be963727d57a22767661eb1">getLastScrobbleDate</a> (const QList&lt; <a class="el" href="struct_scrobble_data.html">ScrobbleData</a> &gt; &amp;scrobbles)</td></tr>
<tr class="memdesc:a079ec42c0be963727d57a22767661eb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the timestamp of the latest scrobble in the list.  <br /></td></tr>
<tr class="separator:a079ec42c0be963727d57a22767661eb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc9d8cda8733db2f92bb1319f7195aae" id="r_abc9d8cda8733db2f92bb1319f7195aae"><td class="memItemLeft" align="right" valign="top">QVector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abc9d8cda8733db2f92bb1319f7195aae">getScrobblesPerHourOfDay</a> (const QList&lt; <a class="el" href="struct_scrobble_data.html">ScrobbleData</a> &gt; &amp;scrobbles)</td></tr>
<tr class="memdesc:abc9d8cda8733db2f92bb1319f7195aae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the total number of scrobbles for each hour of the day (local time).  <br /></td></tr>
<tr class="separator:abc9d8cda8733db2f92bb1319f7195aae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60904bba34ef1d196dbcc0170bbe1848" id="r_a60904bba34ef1d196dbcc0170bbe1848"><td class="memItemLeft" align="right" valign="top">QVector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a60904bba34ef1d196dbcc0170bbe1848">getScrobblesPerDayOfWeek</a> (const QList&lt; <a class="el" href="struct_scrobble_data.html">ScrobbleData</a> &gt; &amp;scrobbles)</td></tr>
<tr class="memdesc:a60904bba34ef1d196dbcc0170bbe1848"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the total number of scrobbles for each day of the week (local time).  <br /></td></tr>
<tr class="separator:a60904bba34ef1d196dbcc0170bbe1848"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a589c898e8e33c3a9f8d3f3648720d715" id="r_a589c898e8e33c3a9f8d3f3648720d715"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_listening_streak.html">ListeningStreak</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a589c898e8e33c3a9f8d3f3648720d715">calculateListeningStreaks</a> (const QList&lt; <a class="el" href="struct_scrobble_data.html">ScrobbleData</a> &gt; &amp;scrobbles)</td></tr>
<tr class="memdesc:a589c898e8e33c3a9f8d3f3648720d715"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the longest and current consecutive day listening streaks.  <br /></td></tr>
<tr class="separator:a589c898e8e33c3a9f8d3f3648720d715"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ab8f49dd1f67e077b373f2668595bf1f5" id="r_ab8f49dd1f67e077b373f2668595bf1f5"><td class="memTemplParams" colspan="2">template&lt;typename T&gt; </td></tr>
<tr class="memitem:ab8f49dd1f67e077b373f2668595bf1f5"><td class="memTemplItemLeft" align="right" valign="top">static QList&lt; QPair&lt; QString, T &gt; &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#ab8f49dd1f67e077b373f2668595bf1f5">sortMapByValue</a> (const QMap&lt; QString, T &gt; &amp;map)</td></tr>
<tr class="memdesc:ab8f49dd1f67e077b373f2668595bf1f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper template function to sort a QMap by its values (descending).  <br /></td></tr>
<tr class="separator:ab8f49dd1f67e077b373f2668595bf1f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Performs various calculations and statistical analysis on a list of scrobble data. </p>
<p>Provides methods to calculate top artists/tracks, find last played times, calculate listening streaks, determine mean scrobbles per day, and analyze listening patterns by time of day or day of week. Assumes input scrobble lists are sorted by timestamp (important for some calculations like first/last date). @inherits QObject </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae3e0671ff5957d720efb67154dc00162" name="ae3e0671ff5957d720efb67154dc00162"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3e0671ff5957d720efb67154dc00162">&#9670;&#160;</a></span>AnalyticsEngine()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">AnalyticsEngine::AnalyticsEngine </td>
          <td>(</td>
          <td class="paramtype">QObject *</td>          <td class="paramname"><span class="paramname"><em>parent</em></span><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel explicit">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs an <a class="el" href="class_analytics_engine.html" title="Performs various calculations and statistical analysis on a list of scrobble data.">AnalyticsEngine</a> instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parent</td><td>The parent QObject, defaults to nullptr. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a589c898e8e33c3a9f8d3f3648720d715" name="a589c898e8e33c3a9f8d3f3648720d715"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a589c898e8e33c3a9f8d3f3648720d715">&#9670;&#160;</a></span>calculateListeningStreaks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_listening_streak.html">ListeningStreak</a> AnalyticsEngine::calculateListeningStreaks </td>
          <td>(</td>
          <td class="paramtype">const QList&lt; <a class="el" href="struct_scrobble_data.html">ScrobbleData</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>scrobbles</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the longest and current consecutive day listening streaks. </p>
<p>A "listening day" is defined by local time dates. The current streak requires listening on the current local date or the previous day. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scrobbles</td><td>The list of scrobble data to analyze. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="struct_listening_streak.html" title="Holds the results of listening streak calculations.">ListeningStreak</a> struct containing the calculated streak information. </dd></dl>

</div>
</div>
<a id="a368d537fab8fb71f973ba62c25fbb11d" name="a368d537fab8fb71f973ba62c25fbb11d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a368d537fab8fb71f973ba62c25fbb11d">&#9670;&#160;</a></span>findLastPlayed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QDateTime AnalyticsEngine::findLastPlayed </td>
          <td>(</td>
          <td class="paramtype">const QList&lt; <a class="el" href="struct_scrobble_data.html">ScrobbleData</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>scrobbles</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>artist</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>track</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds the timestamp of the last time a specific track by a specific artist was played. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scrobbles</td><td>The list of scrobble data to search (assumed sorted chronologically for efficiency, though not strictly required). </td></tr>
    <tr><td class="paramname">artist</td><td>The artist name (case-insensitive). </td></tr>
    <tr><td class="paramname">track</td><td>The track name (case-insensitive). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The QDateTime (UTC) of the last play, or an invalid QDateTime if not found. </dd></dl>

</div>
</div>
<a id="a307276ff5a20914bf89e86d1300c2f05" name="a307276ff5a20914bf89e86d1300c2f05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a307276ff5a20914bf89e86d1300c2f05">&#9670;&#160;</a></span>getArtistPlayCounts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QMap&lt; QString, int &gt; AnalyticsEngine::getArtistPlayCounts </td>
          <td>(</td>
          <td class="paramtype">const QList&lt; <a class="el" href="struct_scrobble_data.html">ScrobbleData</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>scrobbles</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the total play count for each artist. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scrobbles</td><td>The list of scrobble data to analyze. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A QMap where keys are artist names and values are their total play counts. </dd></dl>

</div>
</div>
<a id="aec0edeb8f4dd330f2147f77f24264a30" name="aec0edeb8f4dd330f2147f77f24264a30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec0edeb8f4dd330f2147f77f24264a30">&#9670;&#160;</a></span>getFirstScrobbleDate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QDateTime AnalyticsEngine::getFirstScrobbleDate </td>
          <td>(</td>
          <td class="paramtype">const QList&lt; <a class="el" href="struct_scrobble_data.html">ScrobbleData</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>scrobbles</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the timestamp of the earliest scrobble in the list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scrobbles</td><td>The list of scrobble data (assumed sorted by timestamp). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The QDateTime (UTC) of the first scrobble, or an invalid QDateTime if the list is empty or the first timestamp is invalid. </dd></dl>

</div>
</div>
<a id="a079ec42c0be963727d57a22767661eb1" name="a079ec42c0be963727d57a22767661eb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a079ec42c0be963727d57a22767661eb1">&#9670;&#160;</a></span>getLastScrobbleDate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QDateTime AnalyticsEngine::getLastScrobbleDate </td>
          <td>(</td>
          <td class="paramtype">const QList&lt; <a class="el" href="struct_scrobble_data.html">ScrobbleData</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>scrobbles</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the timestamp of the latest scrobble in the list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scrobbles</td><td>The list of scrobble data (assumed sorted by timestamp). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The QDateTime (UTC) of the last scrobble, or an invalid QDateTime if the list is empty or the last timestamp is invalid. </dd></dl>

</div>
</div>
<a id="aa4a5bdf04df84d065cdf48d430d59d53" name="aa4a5bdf04df84d065cdf48d430d59d53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4a5bdf04df84d065cdf48d430d59d53">&#9670;&#160;</a></span>getMeanScrobblesPerDay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double AnalyticsEngine::getMeanScrobblesPerDay </td>
          <td>(</td>
          <td class="paramtype">const QList&lt; <a class="el" href="struct_scrobble_data.html">ScrobbleData</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>scrobbles</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QDateTime &amp;</td>          <td class="paramname"><span class="paramname"><em>from</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QDateTime &amp;</td>          <td class="paramname"><span class="paramname"><em>to</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the average number of scrobbles per day within a given date range. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scrobbles</td><td>The list of scrobble data to analyze. </td></tr>
    <tr><td class="paramname">fromUTC</td><td>The start of the date range (UTC, inclusive). </td></tr>
    <tr><td class="paramname">toUTC</td><td>The end of the date range (UTC, exclusive). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The mean number of scrobbles per day, or 0.0 if the range is invalid or contains no scrobbles. </dd></dl>

</div>
</div>
<a id="a60904bba34ef1d196dbcc0170bbe1848" name="a60904bba34ef1d196dbcc0170bbe1848"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60904bba34ef1d196dbcc0170bbe1848">&#9670;&#160;</a></span>getScrobblesPerDayOfWeek()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QVector&lt; int &gt; AnalyticsEngine::getScrobblesPerDayOfWeek </td>
          <td>(</td>
          <td class="paramtype">const QList&lt; <a class="el" href="struct_scrobble_data.html">ScrobbleData</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>scrobbles</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the total number of scrobbles for each day of the week (local time). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scrobbles</td><td>The list of scrobble data to analyze. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A QVector&lt;int&gt; of size 7, where index 0 represents Monday, index 1 Tuesday, ..., index 6 Sunday, containing the total counts for each day. </dd></dl>

</div>
</div>
<a id="abc9d8cda8733db2f92bb1319f7195aae" name="abc9d8cda8733db2f92bb1319f7195aae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc9d8cda8733db2f92bb1319f7195aae">&#9670;&#160;</a></span>getScrobblesPerHourOfDay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QVector&lt; int &gt; AnalyticsEngine::getScrobblesPerHourOfDay </td>
          <td>(</td>
          <td class="paramtype">const QList&lt; <a class="el" href="struct_scrobble_data.html">ScrobbleData</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>scrobbles</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the total number of scrobbles for each hour of the day (local time). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scrobbles</td><td>The list of scrobble data to analyze. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A QVector&lt;int&gt; of size 24, where index 0 represents 00:00-00:59, index 1 represents 01:00-01:59, etc., containing the total counts for each hour. </dd></dl>

</div>
</div>
<a id="a319dd1bfec62f711af388ed54c0a69d1" name="a319dd1bfec62f711af388ed54c0a69d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a319dd1bfec62f711af388ed54c0a69d1">&#9670;&#160;</a></span>getTopArtists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="analyticsengine_8h.html#a24440435af6d135e5ba61c2a05f55deb">SortedCounts</a> AnalyticsEngine::getTopArtists </td>
          <td>(</td>
          <td class="paramtype">const QList&lt; <a class="el" href="struct_scrobble_data.html">ScrobbleData</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>scrobbles</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>count</em></span><span class="paramdefsep"> = </span><span class="paramdefval">50</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the top artists based on play counts. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scrobbles</td><td>The list of scrobble data to analyze. </td></tr>
    <tr><td class="paramname">count</td><td>The maximum number of top artists to return. If -1 or 0, returns all artists. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="analyticsengine_8h.html#a24440435af6d135e5ba61c2a05f55deb">SortedCounts</a> list containing pairs of artist names and their play counts, sorted descending by count. </dd></dl>

</div>
</div>
<a id="ae20d62bcb2527c9c895249401e4a2a61" name="ae20d62bcb2527c9c895249401e4a2a61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae20d62bcb2527c9c895249401e4a2a61">&#9670;&#160;</a></span>getTopTracks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="analyticsengine_8h.html#a24440435af6d135e5ba61c2a05f55deb">SortedCounts</a> AnalyticsEngine::getTopTracks </td>
          <td>(</td>
          <td class="paramtype">const QList&lt; <a class="el" href="struct_scrobble_data.html">ScrobbleData</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>scrobbles</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>count</em></span><span class="paramdefsep"> = </span><span class="paramdefval">50</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the top tracks based on play counts. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scrobbles</td><td>The list of scrobble data to analyze. </td></tr>
    <tr><td class="paramname">count</td><td>The maximum number of top tracks to return. If -1 or 0, returns all tracks. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="analyticsengine_8h.html#a24440435af6d135e5ba61c2a05f55deb">SortedCounts</a> list containing pairs of track identifiers ("Artist
- Track") and their play counts, sorted descending by count. </dd></dl>

</div>
</div>
<a id="ab8f49dd1f67e077b373f2668595bf1f5" name="ab8f49dd1f67e077b373f2668595bf1f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8f49dd1f67e077b373f2668595bf1f5">&#9670;&#160;</a></span>sortMapByValue()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QList&lt; QPair&lt; QString, T &gt; &gt; AnalyticsEngine::sortMapByValue </td>
          <td>(</td>
          <td class="paramtype">const QMap&lt; QString, T &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>map</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper template function to sort a QMap by its values (descending). </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>The value type in the map (must be comparable with '&gt;'). </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">map</td><td>The QMap to sort. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A QList of QPair&lt;QString, T&gt; sorted by the T value in descending order. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="analyticsengine_8h_source.html">analyticsengine.h</a></li>
<li><a class="el" href="analyticsengine_8cpp.html">analyticsengine.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_analytics_engine.html">AnalyticsEngine</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
